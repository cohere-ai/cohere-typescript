/**
 * This file was auto-generated by Fern from our API Definition.
 */

import * as serializers from "../index";
import * as Cohere from "../../api/index";
import * as core from "../../core";
import { ChatMessage } from "./ChatMessage";
import { ToolMessage } from "./ToolMessage";

export const Message: core.serialization.Schema<serializers.Message.Raw, Cohere.Message> = core.serialization
    .union("role", {
        CHATBOT: ChatMessage,
        SYSTEM: ChatMessage,
        USER: ChatMessage,
        TOOL: ToolMessage,
    })
    .transform<Cohere.Message>({
        transform: (value) => value,
        untransform: (value) => value,
    });

export declare namespace Message {
    type Raw = Message.Chatbot | Message.System | Message.User | Message.Tool;

    interface Chatbot extends ChatMessage.Raw {
        role: "CHATBOT";
    }

    interface System extends ChatMessage.Raw {
        role: "SYSTEM";
    }

    interface User extends ChatMessage.Raw {
        role: "USER";
    }

    interface Tool extends ToolMessage.Raw {
        role: "TOOL";
    }
}
